"use strict";(self.webpackChunktls_anvil_docs=self.webpackChunktls_anvil_docs||[]).push([[769],{1100:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/test_example-62ffe4bef7e13fde98c088bb9e13c678.png"},1220:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"Adding-New-Tests/Setup-Dev-Environment","title":"Development Environment Setup","description":"First, clone our repository:","source":"@site/docs/05-Adding-New-Tests/01-Setup-Dev-Environment.md","sourceDirName":"05-Adding-New-Tests","slug":"/Adding-New-Tests/Setup-Dev-Environment","permalink":"/docs/Adding-New-Tests/Setup-Dev-Environment","draft":false,"unlisted":false,"editUrl":"https://github.com/tls-attacker/TLS-Anvil/tree/main/Docs/docs/05-Adding-New-Tests/01-Setup-Dev-Environment.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Adding New Tests","permalink":"/docs/category/adding-new-tests"},"next":{"title":"Test Template Example","permalink":"/docs/Adding-New-Tests/Test-Case-Example"}}');var i=t(4848),r=t(8453);const l={},o="Development Environment Setup",a={},c=[{value:"Compile From Terminal",id:"compile-from-terminal",level:2},{value:"Setup IDE",id:"setup-ide",level:2},{value:"IntelliJ IDEA",id:"intellij-idea",level:3},{value:"NetBeans or Other IDEs",id:"netbeans-or-other-ides",level:3}];function d(e){const n={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"development-environment-setup",children:"Development Environment Setup"})}),"\n",(0,i.jsx)(n.p,{children:"First, clone our repository:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"git clone git://github.com/tls-attacker/TLS-Anvil\n"})}),"\n",(0,i.jsx)(n.h2,{id:"compile-from-terminal",children:"Compile From Terminal"}),"\n",(0,i.jsx)(n.p,{children:"TLS-Anvil depends on specific versions of TLS-Attacker, TLS-Scanner, and Anvil-Core as its testing framework. These are managed as Maven dependencies and will be automatically fetched during the build process."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"mvn clean install -DskipTests\n"})}),"\n",(0,i.jsx)(n.p,{children:"TLS-Anvil can be started by executing the JAR file:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cd apps\njava -jar TLS-Anvil.jar\n"})}),"\n",(0,i.jsx)(n.h2,{id:"setup-ide",children:"Setup IDE"}),"\n",(0,i.jsx)(n.p,{children:"TLS-Anvil was primarily developed using IntelliJ IDEA and NetBeans. Since IntelliJ IDEA offers more advanced JUnit integration, the following section describes a basic setup for IDEA."}),"\n",(0,i.jsx)(n.h3,{id:"intellij-idea",children:"IntelliJ IDEA"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Open the TLS-Testsuite project by selecting the root ",(0,i.jsx)(n.code,{children:"pom.xml"})," file in IntelliJ IDEA."]}),"\n",(0,i.jsxs)(n.li,{children:["If you intend to modify TLS-Attacker and TLS-Scanner as well (which are maintained in separate Git repositories):","\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Add ",(0,i.jsx)(n.code,{children:"TLS-Attacker"})," (",(0,i.jsx)(n.code,{children:"TLS-Attacker/pom.xml"}),") as a new module."]}),"\n",(0,i.jsxs)(n.li,{children:["Add ",(0,i.jsx)(n.code,{children:"TLS-Scanner"})," (",(0,i.jsx)(n.code,{children:"TLS-Scanner/pom.xml"}),") as a new module."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"At this point, the project should compile successfully."}),"\n",(0,i.jsxs)(n.p,{children:["Since TLS-Anvil uses JUnit as its testing framework, individual tests can be executed directly from the IDE. For example, when opening a TLS-Anvil test template located in the ",(0,i.jsx)(n.code,{children:"de.rub.nds.tlstest.suite.tests"})," package, a green play button will appear next to each test method."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:t(1100).A+"",width:"1814",height:"806"})}),"\n",(0,i.jsx)(n.p,{children:"The example in the screenshot is a server test, so a TLS server must be running. Additionally, TLS-Anvil requires connection details to the server. These options are configured via environment variables, which correspond to the regular TLS-Anvil CLI options."}),"\n",(0,i.jsx)(n.p,{children:"The recommended approach is to edit the JUnit 5 run configuration template in IntelliJ IDEA:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Open ",(0,i.jsx)(n.code,{children:"Edit Configurations"})," from the command palette."]}),"\n",(0,i.jsxs)(n.li,{children:["In the bottom left, select ",(0,i.jsx)(n.code,{children:"Edit Configuration Templates"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Select the ",(0,i.jsx)(n.code,{children:"JUnit"})," template."]}),"\n",(0,i.jsxs)(n.li,{children:["Configure the environment variables:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Use ",(0,i.jsx)(n.code,{children:"COMMAND_SERVER"})," to specify CLI options for testing a server.",(0,i.jsx)(n.br,{}),"\n","Example:"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"-networkInterface lo0 -parallelHandshakes 1 -strength 1 server -connect localhost:8443 -doNotSendSNIExtension\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Use ",(0,i.jsx)(n.code,{children:"COMMAND_CLIENT"})," to specify CLI options for testing a client.",(0,i.jsx)(n.br,{}),"\n","Example:"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"-networkInterface lo0 -parallelHandshakes 1 -strength 1 client -port 8443 -triggerScript [path to script]\n"})}),"\n",(0,i.jsx)(n.p,{children:"Once the environment variables are configured, you can run client or server tests by clicking the green play buttons next to the test methods. TLS-Anvil will use these variables to configure the test backend accordingly."}),"\n",(0,i.jsx)(n.h3,{id:"netbeans-or-other-ides",children:"NetBeans or Other IDEs"}),"\n",(0,i.jsx)(n.p,{children:"TLS-Anvil is a Maven-based project and can be built like any other Maven Java project. To execute specific test templates during development, the TLS-Anvil CLI provides two options:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-testPackage [package]"})," \u2014 Runs all tests within the specified Java package."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-tags [tag]"})," \u2014 Runs only test templates annotated with the specified tag. When developing a new test case, temporarily annotate the test method with ",(0,i.jsx)(n.code,{children:'@Tag("tag")'})," to run only that specific test template."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>o});var s=t(6540);const i={},r=s.createContext(i);function l(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);