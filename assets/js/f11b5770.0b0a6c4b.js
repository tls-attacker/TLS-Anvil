"use strict";(self.webpackChunktls_anvil_docs=self.webpackChunktls_anvil_docs||[]).push([[696],{1825:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>c,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"Advanced-Features/Expected-Results","title":"Compare with Expected Results","description":"TLS-Anvil has the option to compare its test results with a set of expected results.","source":"@site/docs/03-Advanced-Features/03-Expected-Results.md","sourceDirName":"03-Advanced-Features","slug":"/Advanced-Features/Expected-Results","permalink":"/docs/Advanced-Features/Expected-Results","draft":false,"unlisted":false,"editUrl":"https://github.com/tls-attacker/TLS-Anvil/tree/main/Docs/docs/03-Advanced-Features/03-Expected-Results.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Profiles","permalink":"/docs/Advanced-Features/Profiles"},"next":{"title":"Architecture","permalink":"/docs/Architecture"}}');var r=n(4848),i=n(8453);const c={},o="Compare with Expected Results",l={},a=[];function d(e){const t={code:"code",em:"em",h1:"h1",header:"header",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"compare-with-expected-results",children:"Compare with Expected Results"})}),"\n",(0,r.jsx)(t.p,{children:"TLS-Anvil has the option to compare its test results with a set of expected results.\nTo do this, you will need an expected results file in JSON format."}),"\n",(0,r.jsxs)(t.p,{children:["Example ",(0,r.jsx)(t.code,{children:"expected.json"}),":"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-json",metastring:"showLineNumbers",children:'{\n  "STRICTLY_SUCCEEDED" : [ \n    "XLF-ia3wstdqYe",\n    "XLF-uQXeugeUkb"\n  ],\n  "CONCEPTUALLY_SUCCEEDED" : [ \n    "XLF-tSjRqK81S8", \n    "XLF-ujMXSAMmVF" \n  ],\n  "FULLY_FAILED" : [\n    "XLF-SA1CoksBgE",\n    "XLF-NFYNXBgXk8"\n  ],\n  "PARTIALLY_FAILED" : [\n    "XLF-4iPUuT51YH",\n    "XLF-PkwVF7pRQa"\n  ]\n  "DISABLED" : [\n    "XLF-CSQn3dUG9L",\n    "XLF-Ax6kVTgheY"\n  ]\n}\n'})}),"\n",(0,r.jsxs)(t.p,{children:["You can then start TLS-Anvil with the ",(0,r.jsx)(t.code,{children:"-expectedResults"})," flag as follows:"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",metastring:"showLineNumbers",children:"docker run \\\n    --rm \\\n    -it \\\n    --name tls-anvil \\\n    --network tls-anvil \\\n    -v $(pwd):/output/ \\\n    -v ./expected.json:/expected.json \\\n    ghcr.io/tls-attacker/tlsanvil:latest \\\n    -expectedResults /expected.json\n    server \\\n    -connect localhost:8443        \n"})}),"\n",(0,r.jsxs)(t.p,{children:["TLS-Anvil will run all configured tests and at the end, it will compare\nthe actual results with the expected results from the file.\nTests that are not explicitly defined in the file, but have an actual\nresult of ",(0,r.jsx)(t.em,{children:"STRICTLY_SUCCEEDED"}),", ",(0,r.jsx)(t.em,{children:"CONCEPTUALLY_SUCCEEDED"})," or ",(0,r.jsx)(t.em,{children:"DISABLED"}),"\nwill not throw an error. All other deviations are printed out and will cause the\nprocess to exit with exit code 1.\nThis is especially useful for CI testing."]}),"\n",(0,r.jsxs)(t.p,{children:["After running a test, a ",(0,r.jsx)(t.code,{children:"result_map.json"})," is generated in the output folder.\nThis file can be used as an input for expected results.\nThis can be useful for comparing results to the previous run."]})]})}function u(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>c,x:()=>o});var s=n(6540);const r={},i=s.createContext(r);function c(e){const t=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),s.createElement(i.Provider,{value:t},e.children)}}}]);